<!DOCTYPE html><html><meta charset="utf-8"><head> 	<script src="http://d3js.org/d3.v3.min.js"></script>	<script src="http://dimplejs.org/dist/dimple.v2.0.0.min.js"></script></head><body>		<script type="text/javascript">			var width = 750,				height = 850;			var svg = dimple.newSvg("body", width, height);			d3.csv("titanic_data3.csv", function (data) {// Storyboard //				// Create a dimple Story board				var panel = new dimple.chart(svg, data);				// Pick tab colors				var defaultColor = panel.defaultColors[9];				var panelColor = panel.defaultColors[3];				// Pick the frame animation duration in ms				var frame = 5000;				var firstTick = true;				// Place the panel above the chart				panel.setBounds(115, 205, 400, 25);				// Add Passenger Type along the x axis				var x = panel.addCategoryAxis("x", "Type");				// Use Count for tab length and hide the axis				var y = panel.addPctAxis("y", "Count");					y.hidden = true;				// Add bars to the panel chart				var s = panel.addSeries(null, dimple.plot.bar);				// Fix panel labels          				s.getTooltipText = function(e){					return [e.cx];				};				// Add event on Click of the panel tab				s.addEventHandler("click", function (e) {					// Pause the animation					myStoryboard.pauseAnimation();					// If tab is already selected restart the animation					if (e.xValue === myStoryboard.getFrameValue()) {						myStoryboard.startAnimation();					}					// If not, keep pause and move to tab					else {						myStoryboard.goToFrame(e.xValue);						myStoryboard.pauseAnimation();					}				});				// Draw panel chart				panel.draw();// Titles //				// Remove the title amd lines from the tabs x axis				x.titleShape.remove();				x.shapes.selectAll("line, path").remove();				// Move the x axis text into the tabs				x.shapes.selectAll("text")				.style("text-anchor", "start")				.style("font-size", "18px")				.style("font-weight", "bold")				.attr("transform", "translate(-26, -22)");				// Add panels click How-to				svg.selectAll("title_text")				.data(["*Click tab to pause/resume."])				.enter()				.append("text")				.attr("x", 241)				.attr("y", 195)				.style("font-family", "Helvetica")				.style("font-size", "12px")				.style("font-style", "italic")				.text(function (d) { return d; })				// Add Panel legend title				svg.selectAll("animationTitle")				.data(["Animation Control"])				.enter()				.append("text")				.attr("x", 245)				.attr("y", 180)				.style("font-size", "16px")				.style("font-weight", "bold")				.style("color", "Black")				.style("font-family", "helvetica")				.text(function (d) {return d;})				s.shapes				.attr("rx", 6)				.attr("ry", 6)				.style("opacity", 0.7);				// Add Project Title				svg.append("text")				.attr("x", 10)				.attr("y", 20)				.style("font-size", "25px")				.style("font-family", "helvetica")				.style("font-weight", "bold")				.text("Data Visualisation on Titanic Passengers using Dimple.js");				// Add Plot Title				svg.append("text")				.attr("x", 95)				.attr("y", 55)				.style("font-size", "17px")				.style("font-family", "helvetica")				.style("font-weight", "bold")				.text("Titanic Survival rates versus Passenger Class, Sex, Age");				// Add Summary text				svg.selectAll("Summary")				.data(["On April 15, 1912, Titanic during her maiden voyage, sank after\					colliding with an iceberg, "," killing 1502 out of 2224 passengers\					and crew. Although there was some element of luck "," involved in\					surviving the sinking, some groups of people were more likely\					to survive than "," others, such as women, children, and the\					upper-class. In the following plot we present "," Survival rates,\					against passenger Socio-Economic class.Passengers are divided to\					three ","separate groups, adult Men, adult Female and Minors, in\					order to provide the oportunity to ","examine their survival chances,\					with the help of our animated and interactive visualization."])				.enter()				.append("text")				.attr("x", 100)				.attr("y", function(d, i) { return 70 + i *14; })				.style("font-size", "11px")				.style("color", "Black")				.style("font-family", "helvetica")				.text(function (d) { return d; })// Main Chart //				// Draw the main chart				var myChart = new dimple.chart(svg, data);				myChart.setBounds(100, 270, 450, 500);				var x = myChart.addCategoryAxis("x", "Class");				var y = myChart.addMeasureAxis("y","Survival Rate");				var b = myChart.addSeries(["Class"], dimple.plot.bar);				x.fontSize = "15px";				x.fontFamily = "helvetica";				y.overrideMax = 100;				y.showGridlines = false;				x.title = "Passenger Socio-Economic Class";				y.title = "Survival Rate (%)";				y.fontSize = "15px";				y.fontFamily = "helvetica";// Chart + Storyboard //				// Add Storyboard to the chart and set tick event				var myStoryboard = myChart.setStoryboard("Type", function onTick(e) {					if (!firstTick) {						s.shapes							.transition()							.duration(frame / 2)							.style("fill", function (d) {								return (d.x === e ? panelColor.fill : defaultColor.fill)							})							.style("stroke", function (d) {								return (d.x === e ? panelColor.stroke : defaultColor.stroke)							})					}					firstTick = false;				});				// Update frame duration				myStoryboard.frameDuration = frame;				myChart.draw();			});		</script></body></html>